\centering
\begin{sequencediagram}
\newinst[1]{client}{User}{}
\newinst[1]{driver}{Driver}{}
\newinst[2]{ex}{Extractors}{}
\newinst[3]{anal}{Sholl Analysis}{}
\newinst[1]{reportgen}{Report Generator}{}

\begin{mess}{client}{images}{driver}{}
	\begin{sdblock}{Main Loop}{}
		\begin{call}{driver}{ExtractHLSGs(img)}{ex}{hlsg}
			\begin{callself}{ex}{ExtractBeads(img)}{beads}
			\end{callself}

			\begin{sdblock}{Sprout Loop}{}
				\begin{callself}{ex}{ExtractSprouts(img, bead)}{sprouts}
				\end{callself}
			\end{sdblock}
		\end{call}

		\begin{call}{driver}{Analyze(hlsg)}{anal}{analysis}
		\end{call}
	\end{sdblock}

	\begin{call}{driver}{GenerateReport(analyses)}{reportgen}{report}
	\end{call}
\end{mess}
\end{sequencediagram}
